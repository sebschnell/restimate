{
    "collab_server" : "",
    "contents" : "##extra. R marries Netlogo.\n###we must use same configuration of both softwares and locations. (64-bit) and C:/Program Files\n#install packages\ninstall.packages(\"rJava\", lib=\"C:/Program Files/R/R-3.3.1/library\")\ninstall.packages(\"RNetLogo\", lib=\"C:/Program Files/R/R-3.3.1/library\")\n\nlibrary(rJava)\nlibrary(RNetLogo)\n\n##call netlogo\nnl.path <- \"C:/Program Files/NetLogo 5.3.1\"\nNLStart(nl.path)\n\n##load model fire burning trees\n\nmodel.path <- file.path(\"models\", \"Sample Models\", \"Earth science\",\"Fire.nlogo\")\nNLLoadModel(file.path(nl.path, model.path))\n\n##play with the model from R\nNLCommand(\"set density 77\")\nNLCommand(\"setup\")\nNLCommand(\"go\")\nNLCommand(\"print \\\"Hello NetLogo, I called you from R.\\\"\")\n\n\ndensity.in.r <- 88\nNLCommand(\"set density \", density.in.r, \"setup\", \"go\")\nNLDoCommand(100, \"go\")\n\n###Extract information from the model simulation\nNLReport(\"ticks\")\n\nticks <- NLReport(\"ticks\")\nprint(ticks)\n\nNLCommand(\"setup\")\nburned <- NLDoReport(10, \"go\", \"(burned-trees / initial-trees) * 100\")\nprint(unlist(burned)) # precentage of burned trees in each ticks\n\nNLCommand(\"setup\")\nburned <- NLDoReportWhile(\"any? turtles\", \"go\",\n        c(\"ticks\", \"(burned-trees / initial-trees) * 100\"),\n        as.data.frame = TRUE, df.col.names = c(\"tick\", \"percent burned\"))\nplot(burned, type = \"s\")\n\n#####create the function for 1. execute the command of set a new densities each step -tick-.2. Repeat the commando of go if there are still turtles(fire) avaliable\n#####3.report the value of the percentage between burned and initial trees(density) in percentage\nsim <- function(density) {\n  NLCommand(\"set density \", density, \"setup\")\n  NLDoCommandWhile(\"any? turtles\", \"go\");\n  ret <- NLReport(\"(burned-trees / initial-trees) * 100\")\n  return(ret)\n   }\n###define a vector for calculating different densities of starting the simulation. From 1 to 100 by a step of 1.\nd <- seq(1, 100, 1)\npb <- sapply(d, function(dens) sim(dens))\nplot(d, pb, xlab = \"density\", ylab = \"percent burned\")\n\n\n###redefine the function to refine the results. Where is the change in the percentage of burnerd areas depening the density of trees.\nrep.sim <- function(density, rep)\n  lapply(density, function(dens) replicate(rep, sim(dens)))\n###sequence from 45 to 70 where is the change, by 5, and 10 times each simulation.\nd <- seq(45, 70, 5); res <- rep.sim(d, 10)\nboxplot(res, names = d, xlab = \"density\", ylab = \"percent burned\")\n\n###sequence from 55 to 65 where is the change, by 1, and 20 times each simulation.\nd <- seq(55, 65, 1); res <- rep.sim(d, 20)\nboxplot(res,names = d, xlab = \"density\", ylab = \"percent burned\")\n\nNLQuit()\n\n\n\n##model wolf-sheep-predation\n#####restart sesion\nlibrary(rJava)\nlibrary(RNetLogo)\nlibrary(igraph)\n##call netlogo\nnl.path <- \"C:/Program Files/NetLogo 5.1.0\"\nNLStart(nl.path)\n\nmodel.path <- file.path(\"models\", \"Sample Models\", \"Biology\",\"Wolf Sheep Predation.nlogo\")\nNLLoadModel(file.path(nl.path, model.path))\n\nNLCommand(\"set initial-number-sheep 50\")\nNLCommand(\"set initial-number-wolves 20\")\nNLCommand(\"set sheep-gain-from-food 5\")\nNLCommand(\"set wolf-gain-from-food 15\")\n\nNLCommand(\"set sheep-reproduce 15\")\nNLCommand(\"set wolf-reproduce 10\")\n\n\nNLCommand(\"setup\")\nNLCommand(\"go\")\nNLDoCommand(100,\"go\")\n\ngraph1 <- NLGetGraph(populations)\nplot(graph1, layout=populations, vertex.shape=\"rectangle\", vertex.size=20, asp=FALSE)\n\n\nNLReport(\"grass\")\nNLReport(\"sheep a-sheep\")\n\nticks <- NLReport(\"turtles-own\")\nprint(ticks)\n\n\nNLCommand(\"setup\")\npopulation.sheep <- NLDoReport(100, \"go\", \"breed[sheep]\")\nprint(unlist(population.sheep)) # increment in the number of sheeps in each ticks\n\n\n#####################################\n\nlibrary(rJava)\nlibrary(RNetLogo)\nlibrary(igraph)\n##call netlogo\nnl.path <- \"C:/Program Files/NetLogo 5.1.0\"\nNLStart(nl.path)\n\nmodel.path <- file.path(\"models\", \"Sample Models\", \"Networks\",\n                         \"Small Worlds.nlogo\")\nNLLoadModel(file.path(nl.path, model.path))\nNLCommand(\"setup\", \"rewire-all\")\nmy.network <- NLGetGraph()\n\nplot(my.network, layout = layout.circle,\n      vertex.label = V(my.network)$name, vertex.label.cex = 0.7, asp = FALSE)\n\n\n",
    "created" : 1476997019521.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1431905632",
    "id" : "64E670E6",
    "lastKnownWriteTime" : 1476998290,
    "last_content_update" : 1476998290082,
    "path" : "C:/Users/Schnell/Documents/Courses/introduction_programming_simulation/net_logo/net_ogo_tart.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}